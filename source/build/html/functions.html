

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Function Documentation &mdash; Flow-Conditioned Parameter Grid Tools 1.0.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="References" href="z_references.html" />
    <link rel="prev" title="Detect Missing FCPGs" href="detect_missing.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Flow-Conditioned Parameter Grid Tools
          

          
          </a>

          
            
            
              <div class="version">
                1.0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cookbook.html">Cookbook</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Function Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="z_references.html">References</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Flow-Conditioned Parameter Grid Tools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Function Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/functions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-tools">
<span id="function-documentation"></span><span id="function-label"></span><h1>Function Documentation<a class="headerlink" href="#module-tools" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="tools.ExtremeUpslopeValue">
<code class="sig-name descname">ExtremeUpslopeValue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fdr</span></em>, <em class="sig-param"><span class="n">param</span></em>, <em class="sig-param"><span class="n">output</span></em>, <em class="sig-param"><span class="n">accum_type</span><span class="o">=</span><span class="default_value">'MAX'</span></em>, <em class="sig-param"><span class="n">cores</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">fac</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mpiCall</span><span class="o">=</span><span class="default_value">'mpiexec'</span></em>, <em class="sig-param"><span class="n">mpiArg</span><span class="o">=</span><span class="default_value">'-n'</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#ExtremeUpslopeValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.ExtremeUpslopeValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for the TauDEM D8 Extreme Upslope Value function <a class="bibtex reference internal" href="z_references.html#taudem" id="id1">[1]</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fdr</strong><span class="classifier">str</span></dt><dd><p>Path to a flow direction grid in TauDEM format.</p>
</dd>
<dt><strong>param</strong><span class="classifier">str</span></dt><dd><p>Path to parameter raster to run through the D8 Extreme Upslope Value tool</p>
</dd>
<dt><strong>output</strong><span class="classifier">str</span></dt><dd><p>Path to output raster file.</p>
</dd>
<dt><strong>accum_type</strong><span class="classifier">str (optional)</span></dt><dd><p>Either  “MAX” or “MIN.” Defaults to “MAX.”</p>
</dd>
<dt><strong>cores</strong><span class="classifier">int (optional)</span></dt><dd><p>Number of cores to run this process on. Defaults to 1.</p>
</dd>
<dt><strong>fac</strong><span class="classifier">str (optional)</span></dt><dd><p>Path to a flow accumulation raster. Defaults to None.</p>
</dd>
<dt><strong>thresh</strong><span class="classifier">int (optional)</span></dt><dd><p>Threshold values, in the same units as fac to mask output to stream channels. Defaults to None.</p>
</dd>
<dt><strong>mpiCall</strong><span class="classifier">str (optional)</span></dt><dd><p>The command to use for mpi, defaults to mpiexec.</p>
</dd>
<dt><strong>mpiArg</strong><span class="classifier">str (optional)</span></dt><dd><p>Argument flag passed to mpiCall, which is followed by the cores parameter, defaults to ‘-n’.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">raster</span></dt><dd><p>Raster of either the maximum or minumum upslope value of the parameter grid supplied to the function.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.FindDownstreamCellTauDir">
<code class="sig-name descname">FindDownstreamCellTauDir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em>, <em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">w</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#FindDownstreamCellTauDir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.FindDownstreamCellTauDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Find downstream cell given the flow direction of a reference cell using TauDEM flow directions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>d</strong><span class="classifier">int</span></dt><dd><p>Flow direction of the reference cell.</p>
</dd>
<dt><strong>x</strong><span class="classifier">float</span></dt><dd><p>Horizontal coordinate (either projected or unprojected).</p>
</dd>
<dt><strong>y</strong><span class="classifier">float</span></dt><dd><p>Vertical coordinate (either projected or unprojected).</p>
</dd>
<dt><strong>w</strong><span class="classifier">float</span></dt><dd><p>Cell size, in map units.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>x</strong><span class="classifier">float</span></dt><dd><p>Horizontal coordinate of the downstream cell.</p>
</dd>
<dt><strong>y</strong><span class="classifier">float</span></dt><dd><p>Vertical coordinate of the downstream cell.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.accumulateParam">
<code class="sig-name descname">accumulateParam</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">paramRast</span></em>, <em class="sig-param"><span class="n">fdr</span></em>, <em class="sig-param"><span class="n">accumRast</span></em>, <em class="sig-param"><span class="n">outNoDataRast</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">outNoDataAccum</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">zeroNoDataRast</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cores</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">mpiCall</span><span class="o">=</span><span class="default_value">'mpiexec'</span></em>, <em class="sig-param"><span class="n">mpiArg</span><span class="o">=</span><span class="default_value">'-n'</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#accumulateParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.accumulateParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Accumulate a parameter grid using TauDEM AreaD8 <a class="bibtex reference internal" href="z_references.html#taudem" id="id2">[1]</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>paramRast</strong><span class="classifier">str</span></dt><dd><p>Raster of parameter values to accumulate; this file is modified by the function.</p>
</dd>
<dt><strong>fdr</strong><span class="classifier">str</span></dt><dd><p>Flow direction raster in TauDEM format.</p>
</dd>
<dt><strong>accumRast</strong><span class="classifier">str</span></dt><dd><p>File location to store accumulated parameter values.</p>
</dd>
<dt><strong>outNoDataRast</strong><span class="classifier">str (optional)</span></dt><dd><p>File location to store parameter no data raster.</p>
</dd>
<dt><strong>outNoDataAccum</strong><span class="classifier">str (optional)</span></dt><dd><p>File location to store accumulated no data raster.</p>
</dd>
<dt><strong>zeroNoDataRast</strong><span class="classifier">str (optional)</span></dt><dd><p>File location to store the no data raster filled with zeros.</p>
</dd>
<dt><strong>cores</strong><span class="classifier">int (optional)</span></dt><dd><p>The number of cores to use for parameter accumulation. Defaults to 1.</p>
</dd>
<dt><strong>mpiCall</strong><span class="classifier">str (optional)</span></dt><dd><p>The command to use for mpi, defaults to mpiexec.</p>
</dd>
<dt><strong>mpiArg</strong><span class="classifier">str (optional)</span></dt><dd><p>Argument flag passed to mpiCall, which is followed by the cores parameter, defaults to ‘-n’.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>accumRast</strong><span class="classifier">raster</span></dt><dd><p>Raster of accumulated parameter values.</p>
</dd>
<dt><strong>outNoDataRast</strong><span class="classifier">raster</span></dt><dd><p>Raster of no data values.</p>
</dd>
<dt><strong>outNoDataRast</strong><span class="classifier">raster</span></dt><dd><p>Raster of accumulated no data values.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If outNoDataRast, outNoDataAccum, and zeroNoDataRast inputs are all supplied it will set any “no data” values in the basin to zero and save that raster as zeroNoDataRast. It will then save a raster with all no data values set to one and other values set to zero (outNoDataRast) and use tauDEM to accumulate it (outNoDataAccum). It will then accumulate the parameter from the zeroNoDataRast, and a subsequent correction will be needed in the make_fcpg() function based on the values in the outNoDataAccum raster.</p>
<p>If some of the output file locations for handling no data values aren’t supplied or “no data” values aren’t present in the parameter grid, it will simply accumulate the parameter grid. If “no data” values are present, this will result in them being propagated downstream.</p>
</dd></dl>

<dl class="py function">
<dt id="tools.accumulateParam_batch">
<code class="sig-name descname">accumulateParam_batch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">paramRasts</span></em>, <em class="sig-param"><span class="n">fdr</span></em>, <em class="sig-param"><span class="n">outWorkspace</span></em>, <em class="sig-param"><span class="n">cores</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">appStr</span><span class="o">=</span><span class="default_value">'accum'</span></em>, <em class="sig-param"><span class="n">mpiCall</span><span class="o">=</span><span class="default_value">'mpiexec'</span></em>, <em class="sig-param"><span class="n">mpiArg</span><span class="o">=</span><span class="default_value">'-n'</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#accumulateParam_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.accumulateParam_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Batch version of <a class="reference internal" href="#tools.accumulateParam" title="tools.accumulateParam"><code class="xref py py-func docutils literal notranslate"><span class="pre">accumulateParam()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>paramRasts</strong><span class="classifier">list</span></dt><dd><p>List of input parameter raster paths to accumulate along the supplied fdr.</p>
</dd>
<dt><strong>fdr</strong><span class="classifier">str</span></dt><dd><p>Path to the flow direction raster.</p>
</dd>
<dt><strong>outWorkspace</strong><span class="classifier">str</span></dt><dd><p>Path to the output directory for accumulation rasters.</p>
</dd>
<dt><strong>cores</strong><span class="classifier">int (optional)</span></dt><dd><p>Number of cores to use. Defaults to 1.</p>
</dd>
<dt><strong>appStr :str (optional)</strong></dt><dd><p>String of text to append to accumulated parameter filenames. Defaults to “accum.”</p>
</dd>
<dt><strong>mpiCall</strong><span class="classifier">str (optional)</span></dt><dd><p>MPI program to use to execute the program, defaults to mpiexec.</p>
</dd>
<dt><strong>mpiArg</strong><span class="classifier">str (optional)</span></dt><dd><p>Argument to pass to mpiCall, defaults to ‘-n’.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>fileList</strong><span class="classifier">list</span></dt><dd><p>List of file paths to accumulated parameter rasters.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.adjustFAC">
<code class="sig-name descname">adjustFAC</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">facWeighttemplate</span></em>, <em class="sig-param"><span class="n">downstreamFACweightFl</span></em>, <em class="sig-param"><span class="n">updateDictFl</span></em>, <em class="sig-param"><span class="n">downstreamFDRFl</span></em>, <em class="sig-param"><span class="n">adjFACFl</span></em>, <em class="sig-param"><span class="n">cores</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">mpiCall</span><span class="o">=</span><span class="default_value">'mpiexec'</span></em>, <em class="sig-param"><span class="n">mpiArg</span><span class="o">=</span><span class="default_value">'-n'</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">scaleFactor</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">moveDownstream</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#adjustFAC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.adjustFAC" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an updated flow accumulation grid (FAC) given an update dictionary produced by <a class="reference internal" href="#tools.createUpdateDict" title="tools.createUpdateDict"><code class="xref py py-func docutils literal notranslate"><span class="pre">createUpdateDict()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>facWeighttemplate</strong><span class="classifier">str</span></dt><dd><p>Path to a FDR or FAC grid used to make the FAC weighting grid.</p>
</dd>
<dt><strong>downstreamFACweightFl</strong><span class="classifier">str</span></dt><dd><p>Path to output the FAC weighting grid.</p>
</dd>
<dt><strong>updateDictFl</strong><span class="classifier">str</span></dt><dd><p>Path to update dictionary used to update the FAC weighting grid.</p>
</dd>
<dt><strong>downstreamFDRFl</strong><span class="classifier">str</span></dt><dd><p>Path to downstream FDR to use when computing the adjusted FAC grid.</p>
</dd>
<dt><strong>adjFACFl</strong><span class="classifier">str</span></dt><dd><p>Path to output the adjusted FAC raster.</p>
</dd>
<dt><strong>cores</strong><span class="classifier">int (Optional)</span></dt><dd><p>Number of cores to use. Defaults to 1.</p>
</dd>
<dt><strong>mpiCall</strong><span class="classifier">str (optional)</span></dt><dd><p>MPI program to use to execute the program, defaults to mpiexec.</p>
</dd>
<dt><strong>mpiArg</strong><span class="classifier">str (optional)</span></dt><dd><p>Argument to pass to mpiCall, defaults to -n.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
<dt><strong>scaleFactor</strong><span class="classifier">int (optional)</span></dt><dd><p>Value to divide weighting grid by for working with very large flow accumulation values and associated parameter value, defaults to None.</p>
</dd>
<dt><strong>moveDownstream</strong><span class="classifier">bool (optional)</span></dt><dd><p>Move the pour point downstream to account for pour points that do not overlap downstream geospatial tiles, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>adjFACFl</strong><span class="classifier">raster</span></dt><dd><p>Adjusted flow accumulation raster at adjFACFl.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.adjustParam">
<code class="sig-name descname">adjustParam</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">updatedParam</span></em>, <em class="sig-param"><span class="n">downstreamParamFL</span></em>, <em class="sig-param"><span class="n">updateDictFl</span></em>, <em class="sig-param"><span class="n">adjParamFl</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">scaleFactor</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">moveDownstream</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#adjustParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.adjustParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an updated parameter grid given an update dictionary from <a class="reference internal" href="#tools.createUpdateDict" title="tools.createUpdateDict"><code class="xref py py-func docutils literal notranslate"><span class="pre">createUpdateDict()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>updatedParam</strong><span class="classifier">str</span></dt><dd><p>Name of the parameter to update.</p>
</dd>
<dt><strong>downstreamParamFL</strong><span class="classifier">str</span></dt><dd><p>Path to downstream parameter grid to update.</p>
</dd>
<dt><strong>updateDictFl</strong><span class="classifier">str</span></dt><dd><p>Path to update dictionary to use.</p>
</dd>
<dt><strong>adjParamFl</strong><span class="classifier">str</span></dt><dd><p>Path to output adjusted parameter file.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
<dt><strong>scaleFactor</strong><span class="classifier">int (optional)</span></dt><dd><p>Value to divide weighting grid by for working with very large flow accumulation values and associated parameter value, defaults to None.</p>
</dd>
<dt><strong>moveDownstream</strong><span class="classifier">bool (optional)</span></dt><dd><p>Move the pour point downstream to account for pour points that do not overlap downstream geospatial tiles, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>adjParamFl</strong><span class="classifier">raster</span></dt><dd><p>Adjusted parameter raster that can be accumulated prior to FCPG creation.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.applyMult">
<code class="sig-name descname">applyMult</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inRast</span></em>, <em class="sig-param"><span class="n">mult</span></em>, <em class="sig-param"><span class="n">outRast</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#applyMult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.applyMult" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiply input raster by mult.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inRast</strong><span class="classifier">str</span></dt><dd><p>Path to input raster.</p>
</dd>
<dt><strong>mult</strong><span class="classifier">str</span></dt><dd><p>Path to multiplier raster.</p>
</dd>
<dt><strong>outRast</strong><span class="classifier">str</span></dt><dd><p>Path to output raster.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>outRast</strong><span class="classifier">raster</span></dt><dd><p>Input raster multiplied by the multiplier raster.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.binarizeCat">
<code class="sig-name descname">binarizeCat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">val</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">nodata</span></em>, <em class="sig-param"><span class="n">outWorkspace</span></em>, <em class="sig-param"><span class="n">baseName</span></em>, <em class="sig-param"><span class="n">ext</span></em>, <em class="sig-param"><span class="n">profile</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#binarizeCat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.binarizeCat" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a categorical raster (e.g. land cover type) into a set of binary rasters, one for each category in the supplied raster, zero for areas where that class is not present, 1 for areas where that class is present, and -1 for regions of no data in the supplied raster. See also <a class="reference internal" href="#tools.cat2bin" title="tools.cat2bin"><code class="xref py py-func docutils literal notranslate"><span class="pre">cat2bin()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">np.array</span></dt><dd><p>Numpy array of raster data to convert to binary.</p>
</dd>
<dt><strong>val</strong><span class="classifier">int</span></dt><dd><p>Raster value to extract binary for from data.</p>
</dd>
<dt><strong>nodata</strong><span class="classifier">int or float</span></dt><dd><p>Raster no data value.</p>
</dd>
<dt><strong>outWorkspace</strong><span class="classifier">str</span></dt><dd><p>Path to folder to save binary output rasters to.</p>
</dd>
<dt><strong>baseName</strong><span class="classifier">str</span></dt><dd><p>Base name for the output rasters.</p>
</dd>
<dt><strong>ext</strong><span class="classifier">str</span></dt><dd><p>File extension for output rasters.</p>
</dd>
<dt><strong>profile</strong><span class="classifier">dict</span></dt><dd><p>Rasterio metadata dictionary decribing the properties used to create the output raster.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>catRaster</strong><span class="classifier">str</span></dt><dd><p>Filepath to the binary raster created.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.cat2bin">
<code class="sig-name descname">cat2bin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inCat</span></em>, <em class="sig-param"><span class="n">outWorkspace</span></em>, <em class="sig-param"><span class="n">par</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#cat2bin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.cat2bin" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a categorical raster (e.g. land cover type) into a set of binary rasters, one for each category in the supplied raster, zero for areas where that class is not present, 1 for areas where that class is present, and -1 for regions of no data in the supplied raster. Wrapper on <a class="reference internal" href="#tools.binarizeCat" title="tools.binarizeCat"><code class="xref py py-func docutils literal notranslate"><span class="pre">binarizeCat()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inCat</strong><span class="classifier">str</span></dt><dd><p>Input catagorical parameter raster.</p>
</dd>
<dt><strong>outWorkspace</strong><span class="classifier">str</span></dt><dd><p>Workspace to save binary raster output files.</p>
</dd>
<dt><strong>par</strong><span class="classifier">bool (optional)</span></dt><dd><p>Use parallel processing to generate binary rasters, defaults to True.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>fileList</strong><span class="classifier">list</span></dt><dd><p>List of filepaths to output files.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.changeNoData">
<code class="sig-name descname">changeNoData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inRast</span></em>, <em class="sig-param"><span class="n">newNoData</span></em>, <em class="sig-param"><span class="n">updateDict</span><span class="o">=</span><span class="default_value">{'compress': 'LZW', 'zlevel': 9, 'interleave': 'band', 'profile': 'GeoTIFF', 'tiled': True, 'sparse_ok': True, 'num_threads': 'ALL_CPUS', 'bigtiff': 'IF_SAFER'}</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#changeNoData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.changeNoData" title="Permalink to this definition">¶</a></dt>
<dd><p>Update raster no data value to a new value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inRast</strong><span class="classifier">str</span></dt><dd><p>Path to input raster file.</p>
</dd>
<dt><strong>newNoData</strong><span class="classifier">str</span></dt><dd><p>New no data value for the raster.</p>
</dd>
<dt><strong>updateDict</strong><span class="classifier">dict (optional)</span></dt><dd><p>Dictionary of Rasterio parameters used to create the updated raster.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.createUpdateDict">
<code class="sig-name descname">createUpdateDict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">upstreamFACmax</span></em>, <em class="sig-param"><span class="n">fromHUC</span></em>, <em class="sig-param"><span class="n">outfl</span></em>, <em class="sig-param"><span class="n">replaceDict</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">outletX</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">outletY</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#createUpdateDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.createUpdateDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dictionary for updating downstream FAC and parameter grids using values pulled from the next grid upstream.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x</strong><span class="classifier">list</span></dt><dd><p>Horizontal coordinate(s) for where the update needs to happen in the downstream grid.</p>
</dd>
<dt><strong>y</strong><span class="classifier">list</span></dt><dd><p>Vertical coordinate(s) for where the update needs to happen in the downstream grid.</p>
</dd>
<dt><strong>upstreamFACmax</strong><span class="classifier">list</span></dt><dd><p>Value(s) to insert into the downstream FAC grid.</p>
</dd>
<dt><strong>fromHUC</strong><span class="classifier">str</span></dt><dd><p>The upstream HUC that the values are coming from.</p>
</dd>
<dt><strong>outfl</strong><span class="classifier">str (path)</span></dt><dd><p>Path to where to save the json of this dictionary. The convention is to name this by the downstream HUC.</p>
</dd>
<dt><strong>replaceDict</strong><span class="classifier">bool (optional)</span></dt><dd><p>Replace the update dictionary instead of updating with a new value. Defaults to True.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
<dt><strong>outletX</strong><span class="classifier">list (optional)</span></dt><dd><p>Outlet horizontal coordinate(s) if different from x above, defaults to None.</p>
</dd>
<dt><strong>outletY</strong><span class="classifier">list (optional)</span></dt><dd><p>Outlet vertical coordinate(s) if different from y above, defaults to None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>updateDict</strong><span class="classifier">dict</span></dt><dd><p>Update dictionary that is also written to outfl.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.d8todinfinity">
<code class="sig-name descname">d8todinfinity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inRast</span></em>, <em class="sig-param"><span class="n">outRast</span></em>, <em class="sig-param"><span class="n">updateDict</span><span class="o">=</span><span class="default_value">{'dtype': 'float32', 'compress': 'LZW', 'zlevel': 9, 'interleave': 'band', 'profile': 'GeoTIFF', 'tiled': True, 'sparse_ok': True, 'num_threads': 'ALL_CPUS', 'nodata': - 1, 'bigtiff': 'IF_SAFER'}</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#d8todinfinity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.d8todinfinity" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert TauDEM D-8 flow directions to D-Infinity flow directions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inRast</strong><span class="classifier">str</span></dt><dd><p>Path to a TauDEM D-8 flow direction raster.</p>
</dd>
<dt><strong>outRast</strong><span class="classifier">str</span></dt><dd><p>Path to output the TauDEM D-Infinity flow direction raster.</p>
</dd>
<dt><strong>updateDict</strong><span class="classifier">dict (optional)</span></dt><dd><p>Dictionary of Rasterio parameters used to write out the GeoTiff.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>outRast</strong><span class="classifier">str</span></dt><dd><p>Path to output the TauDEM D-Infinity flow direction raster.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.decayAccum">
<code class="sig-name descname">decayAccum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ang</span></em>, <em class="sig-param"><span class="n">mult</span></em>, <em class="sig-param"><span class="n">outRast</span></em>, <em class="sig-param"><span class="n">paramRast</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cores</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">mpiCall</span><span class="o">=</span><span class="default_value">'mpiexec'</span></em>, <em class="sig-param"><span class="n">mpiArg</span><span class="o">=</span><span class="default_value">'-n'</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#decayAccum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.decayAccum" title="Permalink to this definition">¶</a></dt>
<dd><p>Decay the accumulation of a parameter raster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ang</strong><span class="classifier">str</span></dt><dd><p>Path to flow angle raster from the TauDEM D-Infinity flow direction tool.</p>
</dd>
<dt><strong>mult</strong><span class="classifier">str</span></dt><dd><p>Path to raster of multiplier values applied to upstream accumulations, 1 corresponds to no decay, 0 corresponds to complete decay.</p>
</dd>
<dt><strong>outRast</strong><span class="classifier">str</span></dt><dd><p>Path to output raster for decayed accumulation raster.</p>
</dd>
<dt><strong>paramRast</strong><span class="classifier">str (optional)</span></dt><dd><p>Raster of parameter values to accumulate. If not supplied area will be accumulated. Defaults to None.</p>
</dd>
<dt><strong>cores</strong><span class="classifier">int (optional)</span></dt><dd><p>Number of cores to use. Defaults to 1.</p>
</dd>
<dt><strong>mpiCall</strong><span class="classifier">str (optional)</span></dt><dd><p>The command to use for mpi, defaults to mpiexec.</p>
</dd>
<dt><strong>mpiArg</strong><span class="classifier">str (optional)</span></dt><dd><p>Argument flag passed to mpiCall, which is followed by the cores parameter, defaults to ‘-n’.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>outRast</strong><span class="classifier">raster</span></dt><dd><p>Decayed accumulation raster, either area or parameter depending on what is supplied to the function.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.dist2stream">
<code class="sig-name descname">dist2stream</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fdr</span></em>, <em class="sig-param"><span class="n">fac</span></em>, <em class="sig-param"><span class="n">thresh</span></em>, <em class="sig-param"><span class="n">outRast</span></em>, <em class="sig-param"><span class="n">cores</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">mpiCall</span><span class="o">=</span><span class="default_value">'mpiexec'</span></em>, <em class="sig-param"><span class="n">mpiArg</span><span class="o">=</span><span class="default_value">'-n'</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#dist2stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.dist2stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute distance to streams.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fdr</strong><span class="classifier">str</span></dt><dd><p>Path to flow direction raster in TauDEM format.</p>
</dd>
<dt><strong>fac</strong><span class="classifier">str</span></dt><dd><p>Path to flow accumulation raster.</p>
</dd>
<dt><strong>thresh</strong><span class="classifier">int</span></dt><dd><p>Accumulation threshold for stream formation in number of grid cells.</p>
</dd>
<dt><strong>outRast</strong><span class="classifier">str</span></dt><dd><p>Path to output the distance raster.</p>
</dd>
<dt><strong>cores</strong><span class="classifier">int (optional)</span></dt><dd><p>The number of cores to use. Defaults to 1.</p>
</dd>
<dt><strong>mpiCall</strong><span class="classifier">str (optional)</span></dt><dd><p>The command to use for mpi, defaults to mpiexec.</p>
</dd>
<dt><strong>mpiArg</strong><span class="classifier">str (optional)</span></dt><dd><p>Argument flag passed to mpiCall, which is followed by the cores parameter, defaults to ‘-n’.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>outRast</strong><span class="classifier">raster</span></dt><dd><p>Raster with values of D-8 flow distance from each cell to the nearest stream.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.findLastFACFD">
<code class="sig-name descname">findLastFACFD</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">facfl</span></em>, <em class="sig-param"><span class="n">fl</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#findLastFACFD"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.findLastFACFD" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the coordinate of the greatest cell in facfl, return the value from fl at that point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>facfl</strong><span class="classifier">str</span></dt><dd><p>Path to a flow accumulation grid.</p>
</dd>
<dt><strong>fl</strong><span class="classifier">str (optional)</span></dt><dd><p>Path to an accumulated parameter file. Defaults to None. If None, the facfl is queried.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>x</strong><span class="classifier">float</span></dt><dd><p>Horizontal coordinate of the greatest FAC cell.</p>
</dd>
<dt><strong>y</strong><span class="classifier">float</span></dt><dd><p>Vertical coordinate of the greatest FAC cell.</p>
</dd>
<dt><strong>d</strong><span class="classifier">float</span></dt><dd><p>Value from the parameter grid queried.</p>
</dd>
<dt><strong>w</strong><span class="classifier">float</span></dt><dd><p>Cell size of the grid.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This can be used to find the flow direction of the FAC cell with the greatest accumulation value or the parameter value of the cell with the greatest accumulation value.</p>
</dd></dl>

<dl class="py function">
<dt id="tools.findPourPoints">
<code class="sig-name descname">findPourPoints</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pourBasins</span></em>, <em class="sig-param"><span class="n">upfacfl</span></em>, <em class="sig-param"><span class="n">upfdrfl</span></em>, <em class="sig-param"><span class="n">plotBasins</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#findPourPoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.findPourPoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds unique pour points between two HUC4s.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pourBasins</strong><span class="classifier">GeoDataframe</span></dt><dd><p>GeoDataframe of the HUC12 basins that flow into the downstream HUC4. Used to clip the upstream FAC grid to identify pour points.</p>
</dd>
<dt><strong>upfacfl</strong><span class="classifier">str</span></dt><dd><p>Path to the upstream flow accumulation grid.</p>
</dd>
<dt><strong>upfdrfl</strong><span class="classifier">str</span></dt><dd><p>Path to the upstream tauDEM flow direction grid.</p>
</dd>
<dt><strong>plotBasins</strong><span class="classifier">bool (Optional)</span></dt><dd><p>Boolean to make plots of upstream HUC12s and identified pour points. Defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>finalPoints</strong><span class="classifier">list</span></dt><dd><p>List of tuples containing (x,y,w). These pour points have not been incremented downstream and can be used to query accumulated (but not FCPGed) upstream parameter grids for information to cascade down to the next hydrologic region / geospatial tile downstream.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.getFeatures">
<code class="sig-name descname">getFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gdf</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#getFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.getFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to parse features from a GeoPandas GeoDataframe in such a manner that Rasterio can handle them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>gdf</strong><span class="classifier">GeoDataframe</span></dt><dd><p>GeoPandas GeoDataframe with a geometry column.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>features</strong><span class="classifier">geoJSON</span></dt><dd><p>GeoJSON representation of geometry features from the input GeoDataFrame.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.getHUC4">
<code class="sig-name descname">getHUC4</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">HUC12</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#getHUC4"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.getHUC4" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to return HUC4 representation from a HUC12 identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>HUC12</strong><span class="classifier">str</span></dt><dd><p>Text representation of the HUC12 identifier.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>HUC4</strong><span class="classifier">str</span></dt><dd><p>HUC4 identifier.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.loadJSON">
<code class="sig-name descname">loadJSON</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">infl</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#loadJSON"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.loadJSON" title="Permalink to this definition">¶</a></dt>
<dd><p>Load dictionary stored in a JSON file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>infl</strong><span class="classifier">str</span></dt><dd><p>Path to the JSON to be loaded.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>dictionary</strong><span class="classifier">dict</span></dt><dd><p>Dictionary that was loaded.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.loadRaster">
<code class="sig-name descname">loadRaster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fl</span></em>, <em class="sig-param"><span class="n">returnMeta</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">band</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#loadRaster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.loadRaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to load raster data and metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fl</strong><span class="classifier">str</span></dt><dd><p>Path to the raster file to load.</p>
</dd>
<dt><strong>returnMeta</strong><span class="classifier">bool (Optional)</span></dt><dd><p>Return the raster metadata. Defaults to False.</p>
</dd>
<dt><strong>band</strong><span class="classifier">int (Optional)</span></dt><dd><p>Band to read from the raster. Defaults to one.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>dat</strong><span class="classifier">np.array</span></dt><dd><p>Numpy array of the data in the selected raster band.</p>
</dd>
<dt><strong>meta</strong><span class="classifier">dict</span></dt><dd><p>Dictionary of raster metadata.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.makeDecayGrid">
<code class="sig-name descname">makeDecayGrid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d2strm</span></em>, <em class="sig-param"><span class="n">k</span></em>, <em class="sig-param"><span class="n">outRast</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#makeDecayGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.makeDecayGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a decay raster where grid cell values are computed as the inverse number of grid cells, <span class="math notranslate nohighlight">\(\frac{dx}{n+k*dx}\)</span>, where n is the distance from the d2strm raster from each grid cell to the nearest stream, k is a constant applied to the cell size values, and dx is the cell size of the raster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>d2strm</strong><span class="classifier">str</span></dt><dd><p>Path to raster of flow distances from each grid cell to the nearest stream.</p>
</dd>
<dt><strong>k</strong><span class="classifier">float</span></dt><dd><p>Dimensionless constant applied to decay factor denominator. Must be less than 1 for decay to occur along streamlines.</p>
</dd>
<dt><strong>outRast</strong><span class="classifier">str</span></dt><dd><p>Output file path for decay grid.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>outRast</strong><span class="classifier">raster</span></dt><dd><p>Raster file with grid cells values representing weights decaying as a function of the distance to stream.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.makeFACweight">
<code class="sig-name descname">makeFACweight</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ingrd</span></em>, <em class="sig-param"><span class="n">outWeight</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#makeFACweight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.makeFACweight" title="Permalink to this definition">¶</a></dt>
<dd><p>Make FAC weighting grid of ones based on the extents of the input grid. No-data cells are persisted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ingrd</strong><span class="classifier">str</span></dt><dd><p>Path to input raster from which to generate the weighting grid from.</p>
</dd>
<dt><strong>outWeight</strong><span class="classifier">str</span></dt><dd><p>Path to the output weighting raster generated.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>outWeight</strong><span class="classifier">raster</span></dt><dd><p>Raster of the same extent and resolution as the input grid, but filled with ones where data exist. No-data cells are persisted.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.makePourBasins">
<code class="sig-name descname">makePourBasins</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wbd</span></em>, <em class="sig-param"><span class="n">fromHUC4</span></em>, <em class="sig-param"><span class="n">toHUC4</span></em>, <em class="sig-param"><span class="n">HUC12Key</span><span class="o">=</span><span class="default_value">'HUC12'</span></em>, <em class="sig-param"><span class="n">ToHUCKey</span><span class="o">=</span><span class="default_value">'ToHUC'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#makePourBasins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.makePourBasins" title="Permalink to this definition">¶</a></dt>
<dd><p>Make geodataframe of HUC12 basins flowing from fromHUC4 to toHUC4.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>wbd</strong><span class="classifier">GeoDataframe</span></dt><dd><p>HUC12-level geodataframe projected to the same coordinate reference system (CRS) as the flow accumulation (FAC) and flow direction (FDR) grids being used.</p>
</dd>
<dt><strong>fromHUC4</strong><span class="classifier">str</span></dt><dd><p>HUC4 string for the upstream basin.</p>
</dd>
<dt><strong>toHUC4</strong><span class="classifier">str</span></dt><dd><p>HUC string for the downstream basin.</p>
</dd>
<dt><strong>HUC12Key</strong><span class="classifier">str (optional)</span></dt><dd><p>Column name for HUC codes to process down to HUC4 codes, defaults to ‘HUC12’.</p>
</dd>
<dt><strong>ToHUCKey</strong><span class="classifier">str (optional)</span></dt><dd><p>Column name for the column that indicates the downstream HUC for each row of the dataframe, defaults to ‘TOHUC’.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>pourBasins</strong><span class="classifier">GeoDataframe</span></dt><dd><p>HUC12-level geodataframe of units that drain from fromHUC4 to toHUC4.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.makeStreams">
<code class="sig-name descname">makeStreams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fac</span></em>, <em class="sig-param"><span class="n">strPath</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">900</span></em>, <em class="sig-param"><span class="n">updateDict</span><span class="o">=</span><span class="default_value">{'nodata': 99, 'compress': 'LZW', 'zlevel': 9, 'interleave': 'band', 'profile': 'GeoTIFF', 'tiled': True, 'sparse_ok': True, 'num_threads': 'ALL_CPUS', 'bigtiff': 'IF_SAFER'}</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#makeStreams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.makeStreams" title="Permalink to this definition">¶</a></dt>
<dd><p>Create stream grid from a flow accumulation grid based on a threshold value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fac</strong><span class="classifier">str</span></dt><dd><p>Path to the flow accumulation grid that will be used to create the stream grid.</p>
</dd>
<dt><strong>strPath</strong><span class="classifier">str</span></dt><dd><p>Path to output the stream grid where stream cells will be 1 and other cells will be the no-data value from the source fac grid.</p>
</dd>
<dt><strong>thresh</strong><span class="classifier">int (optional)</span></dt><dd><p>Flow accumulation threshold above which streams are created, defaults to 900 cells.</p>
</dd>
<dt><strong>updateDict</strong><span class="classifier">dict (optional)</span></dt><dd><p>Rasterio raster creation parameters.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.make_fcpg">
<code class="sig-name descname">make_fcpg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">accumParam</span></em>, <em class="sig-param"><span class="n">fac</span></em>, <em class="sig-param"><span class="n">outRast</span></em>, <em class="sig-param"><span class="n">noDataRast</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">minAccum</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#make_fcpg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.make_fcpg" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a flow-conditioned parameter grid using accumulated parameter and area rasters. See also <a class="reference internal" href="#tools.make_fcpg_batch" title="tools.make_fcpg_batch"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_fcpg_batch()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>accumParam</strong><span class="classifier">str</span></dt><dd><p>File location of the accumulated parameter data raster.</p>
</dd>
<dt><strong>fac</strong><span class="classifier">str</span></dt><dd><p>File location of the flow accumulation raster.</p>
</dd>
<dt><strong>outRast</strong><span class="classifier">str</span></dt><dd><p>File location of the output flow-conditioned parameter grid.</p>
</dd>
<dt><strong>noDataRast</strong><span class="classifier">str (optional)</span></dt><dd><p>File location of the accumulated parameter no data raster.</p>
</dd>
<dt><strong>minAccum</strong><span class="classifier">float (optional)</span></dt><dd><p>Value of flow accumulation below which the CPG values will be set to no data.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>outRast</strong><span class="classifier">raster</span></dt><dd><p>Flow-conditioned parameter grid file where grid cell values represent the mean upstream value of the paramter.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.make_fcpg_batch">
<code class="sig-name descname">make_fcpg_batch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">accumParams</span></em>, <em class="sig-param"><span class="n">fac</span></em>, <em class="sig-param"><span class="n">outWorkspace</span></em>, <em class="sig-param"><span class="n">minAccum</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">appStr</span><span class="o">=</span><span class="default_value">'FCPG'</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#make_fcpg_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.make_fcpg_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Batch version of <a class="reference internal" href="#tools.make_fcpg" title="tools.make_fcpg"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_fcpg()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>accumParams</strong><span class="classifier">list</span></dt><dd><p>List of accumulated parameter rasters to create FCPGs from.</p>
</dd>
<dt><strong>fac</strong><span class="classifier">str</span></dt><dd><p>Path to the flow accumulation raster.</p>
</dd>
<dt><strong>outWorkspace</strong><span class="classifier">str</span></dt><dd><p>Path to an output directory for produced FCPGs.</p>
</dd>
<dt><strong>minAccum</strong><span class="classifier">int (optional)</span></dt><dd><p>Minimum accumulation value below which the output FCPG will be turned to no data values. Defaults to None.</p>
</dd>
<dt><strong>appStr</strong><span class="classifier">str (optional)</span></dt><dd><p>String of text to append to filenames of the produced FCPG grids.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>fileList</strong><span class="classifier">list</span></dt><dd><p>List of file paths to the produced FCPGs.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.maskStreams">
<code class="sig-name descname">maskStreams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inRast</span></em>, <em class="sig-param"><span class="n">streamRast</span></em>, <em class="sig-param"><span class="n">outRast</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#maskStreams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.maskStreams" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask areas not on the stream network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inRast</strong><span class="classifier">str</span></dt><dd><p>Path to the input raster to mask.</p>
</dd>
<dt><strong>streamRast</strong><span class="classifier">str</span></dt><dd><p>Path to the stream raster where all non-stream cells are set to no data.</p>
</dd>
<dt><strong>outRast</strong><span class="classifier">str</span></dt><dd><p>Path to output raster file.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>outRast</strong><span class="classifier">raster</span></dt><dd><p>Raster with non-stream cells set to the no data value from inRast.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.parsebool">
<code class="sig-name descname">parsebool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">b</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#parsebool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.parsebool" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a boolean argument from the command line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>b</strong><span class="classifier">str</span></dt><dd><p>String of either True or False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>res</strong><span class="classifier">bool</span></dt><dd><p>True if b is “True” or False if b is not “True.”</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.queryPoint">
<code class="sig-name descname">queryPoint</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">grd</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#queryPoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.queryPoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Query grid based on a supplied point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x</strong><span class="classifier">float or int</span></dt><dd><p>Horizontal coordinate in grid projection.</p>
</dd>
<dt><strong>y</strong><span class="classifier">float or int</span></dt><dd><p>Vertical coordinate in grid projection.</p>
</dd>
<dt><strong>grd</strong><span class="classifier">str</span></dt><dd><p>Path to raster to query based on the supplied x and y coordinates.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>value</strong><span class="classifier">float or int</span></dt><dd><p>Value queried from the supplied raster.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.resampleParam">
<code class="sig-name descname">resampleParam</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inParam</span></em>, <em class="sig-param"><span class="n">fdr</span></em>, <em class="sig-param"><span class="n">outParam</span></em>, <em class="sig-param"><span class="n">resampleMethod</span><span class="o">=</span><span class="default_value">'bilinear'</span></em>, <em class="sig-param"><span class="n">cores</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">forceProj</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">forceProj4</span><span class="o">=</span><span class="default_value">'&quot;+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=23 +lon_0=-96 +x_0=0 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs&quot;'</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#resampleParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.resampleParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample, re-project, and clip the parameter raster based on the resolution, projection, and extent of the of the flow direction raster supplied. See also <code class="xref py py-func docutils literal notranslate"><span class="pre">resampleParams()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inParam</strong><span class="classifier">str</span></dt><dd><p>Path to the input parameter data raster</p>
</dd>
<dt><strong>fdr</strong><span class="classifier">str</span></dt><dd><p>Path to the flow direction raster</p>
</dd>
<dt><strong>outParam</strong><span class="classifier">str</span></dt><dd><p>Path to the output file for the resampled parameter raster.</p>
</dd>
<dt><strong>resampleMethod</strong><span class="classifier">str (optional)</span></dt><dd><p>resampling method, either ‘bilinear’ or ‘near’ for nearest neighbor. Bilinear should generally be used for continuous data sets such as precipitation while nearest neighbor should generally be used for categorical datasets such as land cover type. Defaults to bilinear.</p>
</dd>
<dt><strong>cores</strong><span class="classifier">int (optional)</span></dt><dd><p>The number of cores to use. Defaults to 1.</p>
</dd>
<dt><strong>forceProj</strong><span class="classifier">bool (optional)</span></dt><dd><p>Force the projection of the flow direction raster. This can be useful if the flow direction raster has an unusual projection. Defaults to False. This parameter defaults to False; however, if set to True, forceProj4 must also be specified or the default proj4 string for USGS Albers will be used, see below.</p>
</dd>
<dt><strong>forceProj4</strong><span class="classifier">str (optional)</span></dt><dd><p>Proj4 string used to force the flow direction raster. This defaults to USGS Albers, but is not used unless the forceProj parameter is set to True.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>outParam</strong><span class="classifier">raster</span></dt><dd><p>Resampled, reprojected, and clipped parameter raster.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.resampleParam_batch">
<code class="sig-name descname">resampleParam_batch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inParams</span></em>, <em class="sig-param"><span class="n">fdr</span></em>, <em class="sig-param"><span class="n">outWorkspace</span></em>, <em class="sig-param"><span class="n">resampleMethod</span><span class="o">=</span><span class="default_value">'bilinear'</span></em>, <em class="sig-param"><span class="n">cores</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">appStr</span><span class="o">=</span><span class="default_value">'rprj'</span></em>, <em class="sig-param"><span class="n">forceProj</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">forceProj4</span><span class="o">=</span><span class="default_value">'&quot;+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=23 +lon_0=-96 +x_0=0 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs&quot;'</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#resampleParam_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.resampleParam_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Batch version of <a class="reference internal" href="#tools.resampleParam" title="tools.resampleParam"><code class="xref py py-func docutils literal notranslate"><span class="pre">resampleParam()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inParam</strong><span class="classifier">list</span></dt><dd><p>List of input parameter raster paths.</p>
</dd>
<dt><strong>fdr</strong><span class="classifier">str</span></dt><dd><p>Path to the flow direction raster.</p>
</dd>
<dt><strong>outWorkspace :</strong></dt><dd><p>Path to the output directory for the resampled rasters.</p>
</dd>
<dt><strong>resampleMethod</strong><span class="classifier">str (optional)</span></dt><dd><p>Resampling method, either bilinear or nearest neighbor. Defaults to bilinear.</p>
</dd>
<dt><strong>cores :</strong></dt><dd><p>Number of cores to use. Defaults to 1.</p>
</dd>
<dt><strong>appStr</strong><span class="classifier">str (optional)</span></dt><dd><p>String of text to append to the input parameter filenames. Defaults to “rprj.”</p>
</dd>
<dt><strong>forceProj</strong><span class="classifier">bool (optional)</span></dt><dd><p>Force the projection of the flow direction raster. This can be useful if the flow direction raster has an unusual projection. Defaults to False.</p>
</dd>
<dt><strong>forceProj4</strong><span class="classifier">str (optional)</span></dt><dd><p>Proj4 string used to force the flow direction raster. This defaults to USGS Albers, but is not used unless the forceProj parameter is set to True.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>fileList</strong><span class="classifier">list</span></dt><dd><p>Paths to resampled, reprojected, and clipped parameter rasters.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.saveJSON">
<code class="sig-name descname">saveJSON</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dictionary</span></em>, <em class="sig-param"><span class="n">outfl</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#saveJSON"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.saveJSON" title="Permalink to this definition">¶</a></dt>
<dd><p>Save dictionary to JSON file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dictionary</strong><span class="classifier">dict</span></dt><dd><p>Dictionary to be saved.</p>
</dd>
<dt><strong>outfl</strong><span class="classifier">str</span></dt><dd><p>Path for where to generate the JSON</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.tauDrainDir">
<code class="sig-name descname">tauDrainDir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inRast</span></em>, <em class="sig-param"><span class="n">outRast</span></em>, <em class="sig-param"><span class="n">band</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">updateDict</span><span class="o">=</span><span class="default_value">{'compress': 'LZW', 'zlevel': 9, 'interleave': 'band', 'sparse': True, 'tiled': True, 'blockysize': 256, 'blockxsize': 256, 'driver': 'GTiff', 'nodata': 0, 'bigtiff': 'IF_SAFER'}</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#tauDrainDir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.tauDrainDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Reclassifies ESRI flow directions into TauDEM flow directions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inRast</strong><span class="classifier">str</span></dt><dd><p>Path to a raster encoded with ESRI flow direction values.</p>
</dd>
<dt><strong>outRast</strong><span class="classifier">str</span></dt><dd><p>Path to output a raster with flow directions encoded for TauDEM. File will be overwritten if it already exists.</p>
</dd>
<dt><strong>band</strong><span class="classifier">int (optional)</span></dt><dd><p>Band to read the flow direction grid from if inRast is multiband, defaults to 1.</p>
</dd>
<dt><strong>updateDict</strong><span class="classifier">dict (optional)</span></dt><dd><p>Dictionary of Rasterio raster options used to create outRast. Defaults have been supplied, but may not work in all situations and input file formats.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>outRast</strong><span class="classifier">raster</span></dt><dd><p>Reclassified flow direction raster at the path specified above.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.tauFlowAccum">
<code class="sig-name descname">tauFlowAccum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fdr</span></em>, <em class="sig-param"><span class="n">accumRast</span></em>, <em class="sig-param"><span class="n">cores</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">mpiCall</span><span class="o">=</span><span class="default_value">'mpiexec'</span></em>, <em class="sig-param"><span class="n">mpiArg</span><span class="o">=</span><span class="default_value">'-n'</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#tauFlowAccum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.tauFlowAccum" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for TauDEM AreaD8 <a class="bibtex reference internal" href="z_references.html#taudem" id="id3">[1]</a> to produce a flow acculation grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fdr</strong><span class="classifier">str</span></dt><dd><p>Path to a flow direction raster in TauDEM format.</p>
</dd>
<dt><strong>accumRast</strong><span class="classifier">str</span></dt><dd><p>Path to output the flow accumulation raster.</p>
</dd>
<dt><strong>cores</strong><span class="classifier">int (optional)</span></dt><dd><p>Number of cores to use. Defaults to 1.</p>
</dd>
<dt><strong>mpiCall</strong><span class="classifier">str (optional)</span></dt><dd><p>The command to use for mpi, defaults to mpiexec.</p>
</dd>
<dt><strong>mpiArg</strong><span class="classifier">str (optional)</span></dt><dd><p>Argument flag passed to mpiCall, which is followed by the cores parameter, defaults to ‘-n’.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool (optional)</span></dt><dd><p>Print output, defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>accumRast</strong><span class="classifier">raster</span></dt><dd><p>Raster of accumulated parameter values at the path specified above.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.updateDict">
<code class="sig-name descname">updateDict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ud</span></em>, <em class="sig-param"><span class="n">upHUC</span></em>, <em class="sig-param"><span class="n">varName</span></em>, <em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#updateDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.updateDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Update dictionary created using <a class="reference internal" href="#tools.createUpdateDict" title="tools.createUpdateDict"><code class="xref py py-func docutils literal notranslate"><span class="pre">createUpdateDict()</span></code></a> with a parameter value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ud</strong><span class="classifier">str</span></dt><dd><p>Path to the update dictionary to add a parameter to.</p>
</dd>
<dt><strong>upHUC</strong><span class="classifier">str</span></dt><dd><p>Name of the upstream HUC that the parameter corresponds to.</p>
</dd>
<dt><strong>varName</strong><span class="classifier">str</span></dt><dd><p>Name to use for the parameter.</p>
</dd>
<dt><strong>val</strong><span class="classifier">list, int or float</span></dt><dd><p>Value to add to the upstream dictonary.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ud</strong><span class="classifier">json</span></dt><dd><p>Update dictionary written back out to ud.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tools.updateRaster">
<code class="sig-name descname">updateRaster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">val</span></em>, <em class="sig-param"><span class="n">grd</span></em>, <em class="sig-param"><span class="n">outgrd</span></em>, <em class="sig-param"><span class="n">scaleFactor</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tools.html#updateRaster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tools.updateRaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert value into grid at location specified by x,y; writes new raster to output grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x</strong><span class="classifier">list or float</span></dt><dd><p>Horizontal coordinate in map units.</p>
</dd>
<dt><strong>y</strong><span class="classifier">list of float</span></dt><dd><p>Vertical coordinate in map units.</p>
</dd>
<dt><strong>val</strong><span class="classifier">int or float</span></dt><dd><p>Value to insert into raster at grd.</p>
</dd>
<dt><strong>grd</strong><span class="classifier">str</span></dt><dd><p>Path to raster to be updated.</p>
</dd>
<dt><strong>outgrd</strong><span class="classifier">str (path)</span></dt><dd><p>Path to write updated raster to.</p>
</dd>
<dt><strong>scaleFactor</strong><span class="classifier">int (optional)</span></dt><dd><p>Integer value to divide the output raster by when working with very large flow accumulation areas and associated parameter grids, defaults to None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>dat</strong><span class="classifier">raster</span></dt><dd><p>Raster dataset written to grdout.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="z_references.html" class="btn btn-neutral float-right" title="References" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="detect_missing.html" class="btn btn-neutral float-left" title="Detect Missing FCPGs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Theodore Barnhart, Roy Sando, Seth Siefken, Peter McCarthy, and Al Rea

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>